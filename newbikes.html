<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>New Bikes</title>
    <style>
      :root {
        --brand-orange: #d22626;
        --dark: #222;
        --muted: #6b6b6b;
        --bg: #f7f7f8;
        --card-bg: #fff;
        --max-w: 1200px;
        --radius: 8px;
        --gap: 16px;
        font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto,
          "Helvetica Neue", Arial;
      }
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        background: var(--bg);
        color: var(--dark);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      /* Container */
      .container {
        max-width: var(--max-w);
        margin: 0 auto;
        padding: 0 16px;
      }

      /* Hero Section */
      .hero {
        background: var(--card-bg);
        border-bottom: 1px solid #e5e7eb;
        padding: 20px 0;
        margin: 0;
      }
      .hero-content {
        max-width: var(--max-w);
        margin: 0 auto;
        padding: 0 16px;
        display: grid;
        grid-template-columns: 1fr 280px;
        gap: 20px;
      }
      .hero-left {
        padding: 0;
        margin: 0;
      }
      .hero h2 {
        margin: 0 0 6px;
        font-size: 24px;
        font-weight: 700;
        color: var(--dark);
      }
      .hero-subtitle {
        color: var(--muted);
        margin: 0 0 16px;
        font-size: 14px;
      }

      /* Filters */
      .filters {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom: 16px;
      }
      .chip {
        border: 1px solid #e5e7eb;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 13px;
        color: var(--muted);
        background: #fff;
        cursor: pointer;
        transition: all 0.2s;
        font-weight: 500;
      }
      .chip:hover,
      .chip.active {
        border-color: var(--brand-orange);
        color: var(--brand-orange);
        background: #fef2f2;
      }

      /* Search Box */
      .search-box {
        display: flex;
        gap: 10px;
      }
      .search-input {
        flex: 1;
        padding: 11px 16px;
        border-radius: 6px;
        border: 1px solid #e5e7eb;
        font-size: 14px;
        outline: none;
      }
      .search-input:focus {
        border-color: var(--brand-orange);
      }
      .btn {
        background: var(--brand-orange);
        color: #fff;
        padding: 11px 24px;
        border-radius: 6px;
        border: none;
        font-weight: 600;
        font-size: 14px;
        cursor: pointer;
        transition: all 0.2s;
      }
      .btn:hover {
        background: #b81f1f;
      }

      /* Sidebar */
      .sidebar {
        display: none;
      }
      @media (min-width: 1024px) {
        .sidebar {
          display: block;
        }
      }
      .sidebar-card {
        background: #fef2f2;
        border: 1px solid #fee2e2;
        border-radius: var(--radius);
        padding: 16px;
        margin-bottom: 12px;
      }
      .sidebar-card h3 {
        margin: 0 0 8px;
        font-size: 15px;
        font-weight: 700;
        color: var(--dark);
      }
      .sidebar-card p {
        color: var(--muted);
        font-size: 13px;
        margin: 0;
      }
      .offer-price {
        font-weight: 800;
        color: var(--brand-orange);
        font-size: 18px;
      }

      /* Grid Section */
      .grid-section {
        background: var(--bg);
        padding: 24px 0;
      }
      .section-header {
        max-width: var(--max-w);
        margin: 0 auto 16px;
        padding: 0 16px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 10px;
      }
      .section-title {
        font-size: 20px;
        font-weight: 700;
        color: var(--dark);
      }
      .view-all {
        color: var(--brand-orange);
        font-size: 14px;
        font-weight: 600;
        text-decoration: none;
      }

      /* Bike Grid */
      .grid {
        max-width: var(--max-w);
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: var(--gap);
        padding: 0 16px;
      }
      
      /* Responsive grid adjustments */
      @media (min-width: 1200px) {
        .grid {
          grid-template-columns: repeat(4, 1fr);
        }
      }
      @media (max-width: 1024px) {
        .grid {
          grid-template-columns: repeat(3, 1fr);
        }
      }
      @media (max-width: 768px) {
        .grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 12px;
        }
        .hero-content {
          grid-template-columns: 1fr;
        }
        .section-header {
          flex-direction: column;
          align-items: flex-start;
        }
      }
      @media (max-width: 480px) {
        .grid {
          grid-template-columns: 1fr;
          gap: 10px;
        }
        .section-title {
          font-size: 18px;
        }
      }

      /* Card */
      .card {
        background: var(--card-bg);
        border-radius: var(--radius);
        overflow: hidden;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        display: flex;
        flex-direction: column;
        transition: all 0.2s;
        border: 1px solid #e5e7eb;
        height: 100%;
      }
      .card:hover {
        box-shadow: 0 4px 12px rgb(176, 10, 10);
        transform: translateY(-2px);
      }
      .card .media {
        height: 160px;
        background-size: cover;
        background-position: center;
        background-color: #f9fafb;
        flex-shrink: 0;
      }
      .card .body {
        padding: 14px;
        flex: 1;
        display: flex;
        flex-direction: column;
      }
      .title {
        font-weight: 700;
        font-size: 15px;
        margin: 0 0 6px;
        color: var(--dark);
        line-height: 1.3;
      }
      .specs {
        color: var(--muted);
        font-size: 12px;
        margin-bottom: 8px;
        line-height: 1.4;
      }
      .price-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: auto;
        padding-top: 8px;
        flex-wrap: wrap;
        gap: 8px;
      }
      .price {
        color: var(--brand-orange);
        font-weight: 800;
        font-size: 15px;
        white-space: nowrap;
      }
      .card-actions {
        display: flex;
        gap: 6px;
        flex-wrap: wrap;
      }
      .btn-small {
        padding: 6px 12px;
        font-size: 12px;
        font-weight: 600;
        border-radius: 4px;
        border: none;
        cursor: pointer;
        transition: all 0.2s;
        white-space: nowrap;
      }
      .btn-view {
        background: var(--brand-orange);
        color: #fff;
      }
      .btn-view:hover {
        background: #b81f1f;
      }
      .btn-compare {
        background: #fff;
        color: var(--muted);
        border: 1px solid #e5e7eb;
      }
      .btn-compare:hover {
        border-color: var(--brand-orange);
        color: var(--brand-orange);
      }
      
      /* Mobile card adjustments */
      @media (max-width: 768px) {
        .card .media {
          height: 140px;
        }
        .card .body {
          padding: 12px;
        }
        .title {
          font-size: 14px;
        }
        .price {
          font-size: 14px;
        }
        .btn-small {
          padding: 5px 10px;
          font-size: 11px;
        }
      }
      
      @media (max-width: 480px) {
        .price-row {
          flex-direction: column;
          align-items: flex-start;
          gap: 10px;
        }
        .card-actions {
          width: 100%;
          justify-content: space-between;
        }
        .btn-small {
          flex: 1;
          text-align: center;
        }
      }

      /* Load More */
      .load-more-section {
        max-width: var(--max-w);
        margin: 24px auto;
        padding: 0 16px;
        text-align: center;
      }
      .btn-load {
        background: #fff;
        color: var(--brand-orange);
        border: 2px solid var(--brand-orange);
        padding: 12px 40px;
        font-size: 14px;
        font-weight: 600;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s;
      }
      .btn-load:hover {
        background: var(--brand-orange);
        color: #fff;
      }
      
      @media (max-width: 480px) {
        .btn-load {
          padding: 10px 30px;
          font-size: 13px;
          width: 100%;
          max-width: 200px;
        }
      }
    </style>
  </head>
  <body>
    <div id="navbar"></div>
    <main>
      <!-- Hero Section -->
      <!-- <section class="hero">
        <div class="hero-content">
          <div class="hero-left">
            <h2>Explore New Bikes</h2>
            <p class="hero-subtitle">
              Compare specs, features and showroom prices
            </p>

            <div class="filters">
              <div class="chip active">All Bikes</div>
              <div class="chip">125cc</div>
              <div class="chip">150cc</div>
              <div class="chip">Commuter</div>
              <div class="chip">Cruiser</div>
              <div class="chip">Sports</div>
            </div>

            <div class="search-box">
              <input
                id="search"
                class="search-input"
                placeholder="Search by bike name..."
                type="text"
              />
              <button class="btn" onclick="applySearch()">Search</button>
            </div>
          </div>

          <aside class="sidebar">
            <div class="sidebar-card">
              <h3>Latest Offers</h3>
              <p>EMI starts at</p>
              <p class="offer-price">₹2,499<span style="font-size: 12px; font-weight: 400;">/month</span></p>
            </div>

            <div class="sidebar-card">
              <h3>Top Reviews</h3>
              <p>Average user rating</p>
              <p class="offer-price">4.3<span style="font-size: 12px; font-weight: 400;">/5.0</span></p>
            </div>
          </aside>
        </div>
      </section> -->

      <!-- Grid Section -->
      <section class="grid-section">
        <div class="section-header">
          <h3 class="section-title">Popular Bikes</h3>
          <a href="#" class="view-all">View All →</a>
        </div>
        
        <div class="grid" id="bike-grid">
          <!-- Bike cards populated by JS -->
        </div>
      </section>

      <!-- Load More -->
      <div class="load-more-section">
        <button id="loadMore" class="btn-load">Load More Bikes</button>
      </div>
    </main>
    <div id="footer"></div>

    <script>
      const bikes = [
        {
          id: 1,
          name: "Avenger Cruise 220",
          img: "images/avenger_cruise.avif",
          specs: "150cc · 14PS · Disc",
          price: "₹1.15 Lakh",
        },
        {
          id: 2,
          name: "Hunter 350",
          img: "royal-enfield/images/re_hunter_londonred.avif",
          specs: "110cc · 8.5PS · Drum",
          price: "₹1,68,500",
        },
        {
          id: 3,
          name: "Classic 350",
          img: "images/re_classic350.avif",
          specs: "350cc · 20PS · ABS",
          price: "₹2.05 Lakh",
        },
        {
          id: 4,
          name: "Bullet 350",
          img: "images/re_bullet350.avif",
          specs: "250cc · 30PS · ABS",
          price: "₹1.85 Lakh",
        },
        {
          id: 5,
          name: "Ronin 125",
          img: "images/tvs_ronin.avif",
          specs: "125cc · 10PS · CBS",
          price: "₹82,900",
        },
        {
          id: 6,
          name: "GT Continental 650",
          img: "royal-enfield/images/re_gt_red.avif",
          specs: "650cc · 47PS · Twin",
          price: "₹3.25 Lakh",
        },
        {
          id: 7,
          name: "Splendor Plus",
          img: "herobikes/images/hero_splendor_blackonly.avif",
          specs: "100cc · 47PS · Twin",
          price: "₹90,000 Lakh",
        },
        {
          id: 8,
          name: "Hunter 350",
          img: "royal-enfield/images/re_hunter_riowhite.avif",
          specs: "650cc · 47PS · Twin",
          price: "₹3.25 Lakh",
        },
        {
          id: 9,
          name: "Vintage 650",
          img: "royal-enfield/images/re_hunter_tokyoblack.avif",
          specs: "650cc · 47PS · Twin",
          price: "₹3.25 Lakh",
          link: "royal-enfield.html",
        },
      ];

      let showCount = 4;
      let filteredBikes = [...bikes];

      function renderGrid() {
        const grid = document.getElementById("bike-grid");
        if (!grid) {
          console.error('Grid element not found');
          return;
        }
        
        grid.innerHTML = "";
        const bikesToShow = filteredBikes.slice(0, Math.min(showCount, filteredBikes.length));
        
        bikesToShow.forEach(b => {
          const card = document.createElement("article");
          card.className = "card";
          card.innerHTML = `
            <div class="media" style="background-image:url('${b.img}')" 
                 onerror="this.style.backgroundImage='url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDIwMCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMTYwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9IjEwMCIgeT0iODAiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzlDQTNBRiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+SW1hZ2UgTm90IEZvdW5kPC90ZXh0Pgo8L3N2Zz4K)'"></div>
            <div class="body">
              <h3 class="title">${escapeHtml(b.name)}</h3>
              <div class="specs">${escapeHtml(b.specs)}</div>
              <div class="price-row">
                <div class="price">${escapeHtml(b.price)}</div>
                <div class="card-actions">
                  <button class="btn-small btn-view" onclick="view(${b.id})" aria-label="View ${escapeHtml(b.name)} details">View</button>
                  <button class="btn-small btn-compare" onclick="compare(${b.id})" aria-label="Compare ${escapeHtml(b.name)}">Compare</button>
                </div>
              </div>
            </div>
          `;
          grid.appendChild(card);
        });
        
        const loadMoreBtn = document.getElementById("loadMore");
        if (loadMoreBtn) {
          loadMoreBtn.style.display = showCount >= filteredBikes.length ? "none" : "inline-block";
        }
      }

      function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
      }

      function applySearch() {
        const searchInput = document.getElementById("search");
        if (!searchInput) return;
        
        const q = searchInput.value.toLowerCase().trim();
        if (!q) {
          filteredBikes = [...bikes];
          showCount = 4;
        } else {
          filteredBikes = bikes.filter(b => b.name.toLowerCase().includes(q));
          showCount = filteredBikes.length;
        }
        renderGrid();
      }

      function view(id) {
        const bike = bikes.find(b => b.id === id);
        if (bike) {
          alert(`Viewing details for: ${bike.name}`);
          // In a real app, this would navigate to a detail page
        }
      }

      function compare(id) {
        const bike = bikes.find(b => b.id === id);
        if (bike) {
          alert(`Added ${bike.name} to comparison`);
          // In a real app, this would add to comparison list
        }
      }

      // Event listeners
      document.addEventListener('DOMContentLoaded', function() {
        const loadMoreBtn = document.getElementById("loadMore");
        if (loadMoreBtn) {
          loadMoreBtn.addEventListener("click", () => {
            showCount += 4;
            renderGrid();
          });
        }

        // Filter chip functionality
        document.querySelectorAll('.chip').forEach(chip => {
          chip.addEventListener('click', function() {
            document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
            this.classList.add('active');
          });
        });

        // Search functionality
        const searchInput = document.getElementById("search");
        if (searchInput) {
          searchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
              applySearch();
            }
          });
        }

        // Initial render
        renderGrid();
      });
    </script>
    <script>
      // Secure function to load HTML content with error handling
      function loadHTMLContent(url, elementId) {
        const element = document.getElementById(elementId);
        if (!element) {
          console.error(`Element with ID '${elementId}' not found`);
          return;
        }
        
        fetch(url)
          .then((response) => {
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            return response.text();
          })
          .then((data) => {
            element.innerHTML = data;
          })
          .catch((error) => {
            console.error(`Error loading ${url}:`, error);
            element.innerHTML = `<div class="error">Failed to load content</div>`;
          });
      }

      // Load components with error handling
      loadHTMLContent("navbar.html", "navbar");
      loadHTMLContent("footer.html", "footer");
    </script>
  </body>
</html>